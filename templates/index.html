<!DOCTYPE html>
<!-- saved from url=(0061)https://getbootstrap.com/docs/4.4/examples/starter-template/# -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.6">
    <title>GWP Predictor</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.4/examples/starter-template/">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    <!-- Favicons -->
<!--<link rel="apple-touch-icon" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
<link rel="icon" href="https://getbootstrap.com/docs/4.4/assets/img/favicons/favicon.ico">
<meta name="msapplication-config" content="/docs/4.4/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#563d7c">-->

<link href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/gAAAP8TE7v/ExO7/wAAAP8AAAD+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnAAAARwUFM/4FBTT/ExPM/xMTzP8FBTT/BQUz/gAAAEcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARwAAAP8TE73/ExO7/xIS/v8SEv7/ExO7/xMTvv8AAAD/AAAARwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/gUFM/4TE77/ExP//xMT//8TE///ExP//xMT//8TE///ExO+/wUFM/4AAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP8FBTT/ExO7/xMT//8TE///ExP//xMT//8TE///ExP//xMTu/8FBTT/AAAA/wAAAAAAAAAAAAAA/wAAAP8TE7v/ExPM/xMT/v8TE///ExP//xMT//8TE///ExP//xMT//8SEv7/ExPM/xMTu/8AAAD/AAAA/wAAAP8AAAD/ExO7/xMTzP8TE///ExP//xMT//8TE///ExP//xMT//8TE///ExP//xMTzP8TE7v/AAAA/wAAAP8AAAD/AAAB/xMT//8TE///ExP+/xMT/v8TE/7/ExP//xMT//8TE///ExP//xMT//8TE///ExP//wAAAf8AAAD/AAAA/wAAAf8TE///ExP//xAQ/v8TE/7/ExP+/xMT//8TE///ExP//xMT//8TE///ExP//xMT//8AAAH/AAAA/wAAAP8AAAH/ExP//0FB///Hx/7/EBD+/xMT/v8TE///ExP//xMT//8TE///ExP//xMT//8TE///AAAB/wAAAP8AAABHAAAARwUFRv8FBYn/QUH//xMT//8TE///BQVG/wUFRv8TE///ExP//xMT//8KCon/BQVG/wAAAEcAAABHAAAAAAAAAAAAAAD/BQVG/xMT//8TE///ExP//wAAAP8AAAD/ExP//xMT//8TE///BQVG/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEcAAAH/AAAB/wAAAf8AAAAAAAAAAAAAAf8AAAH/AAAB/wAAAEcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABHAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/wAAAP8AAABHAAAAAAAAAAAAAAAA/n8AAP5/AAD4HwAA+B8AAPAPAADAAwAAwAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAMAAMADAADxjwAA8Y8AAA==" rel="icon" type="image/x-icon" />


<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="/">GWP Predictor</a>
  <!--<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>-->
  </button>

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
    </ul>
  </div>
</nav>

<main role="main" class="container-fluid">

  <div class="row mt-5 pt-5">
  	<div class="col-md-2"></div>
    <div class="col-md-4">
    	<div class="col-md-8">
    	<h5>Building-Level Inputs</h5>
			<div class="font-weight-bold">Site Area</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">1</span></div>
	    		<div class="col-md-4 font-weight-bold text-center" id="site_area_h">1500</span></div>
	    		<div class="col-md-4 indigo-text text-right">3000</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="3000" step="0.5" id="site_area" oninput="showVal('site_area_h',this.value)" onchange="this.value">
			
			<div class="font-weight-bold">Site Length/Height</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">0.01</span></div>
	    		<div class="col-md-4 font-weight-bold text-center" id="site_para_h">0.15</span></div>
	    		<div class="col-md-4 indigo-text text-right">3</span></div>
		    </div>
			<input type="range" class="custom-range" min="0.01" max="3" step="0.01" id="site_para" oninput="showVal('site_para_h',this.value)" onchange="this.value">

			<div class="font-weight-bold">Number of Units</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">1</div>
	    		<div class="col-md-4 font-weight-bold text-center" id="no_of_units_h">100</span></div>
	    		<div class="col-md-4 indigo-text text-right">300</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="300" step="1" id="no_of_units" oninput="showVal('no_of_units_h',this.value)" onchange="this.value">

		<h5 class="pt-5">Unit-Level Inputs</h5>
		<h6>(All units assumed to have 1 Living Room)</h6>
			<div class="font-weight-bold">Number of WC</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">1</div>
	    		<div class="col-md-4 font-weight-bold text-center" id="no_of_wc_h">2</span></div>
	    		<div class="col-md-4 indigo-text text-right">10</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="10" step="1" id="no_of_wc" oninput="showVal('no_of_wc_h',this.value)" onchange="this.value">

			<div class="font-weight-bold">Number of Bedrooms</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">0</div>
	    		<div class="col-md-4 font-weight-bold text-center" id="no_of_br_h">2</span></div>
	    		<div class="col-md-4 indigo-text text-right">10</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="10" step="1" id="no_of_br" oninput="showVal('no_of_br_h',this.value)" onchange="this.value">

			<div class="font-weight-bold">Number of Master Bedrooms</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">0</div>
	    		<div class="col-md-4 font-weight-bold text-center" id="no_of_mbr_h">2</span></div>
	    		<div class="col-md-4 indigo-text text-right">10</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="10" step="1" id="no_of_mbr" oninput="showVal('no_of_mbr_h',this.value)" onchange="this.value">

			<div class="font-weight-bold">Number of Storage</div>
	    	<div class="row">
	    		<div class="col-md-4 indigo-text text-left">0</div>
	    		<div class="col-md-4 font-weight-bold text-center" id="no_of_storage_h">2</span></div>
	    		<div class="col-md-4 indigo-text text-right">10</span></div>
		    </div>
			<input type="range" class="custom-range" min="1" max="10" step="1" id="no_of_storage" oninput="showVal('no_of_storage_h',this.value)" onchange="this.value">	
			<h5 class="pt-5">Infill Inputs</h5>
			<div class="font-weight-bold pt-">Partitions</div>
			  <select class="form-control" id="sel1">
			    <option>Drywall (Mixed Gypsum)</option>
			    <option>Drywall (Natural Gypsum)</option>
			    <option>Drywall (FGD)</option>
			  </select>

			<div class="font-weight-bold pt-1">Glazing</div>
			  <select class="form-control" id="sel1">
			  	<option>Single Pane IGU</option>
			    <option>Double Pane IGU</option>
			    <option>Triple Pane IGU</option>
			    <option>Laminated Glass</option>
			  </select>

			<button type="button" class="btn btn-primary mt-5" onclick="sendData()">Predict!</button>	
		</div>
	</div>
    <div class="col-md-6">
    	<div class="col-md-2"></div>
    	<div class="col-md-8">
    		<canvas class="mt-1" id="shoebox" height="180%"></canvas>
    		<canvas class="mt-1" id="barchart" height="180%"></canvas>
    		<canvas class="mt-1" id="radar" height="200%"></canvas>
    	</div>
    	<div class="col-md-2"></div>
      <p id='out'></p>
    </div>
  </div>
<hr>
<footer class="page-footer font-small blue" >
<div class="row">
<div class="footer-copyright text-left small text-muted">Â© 2019 Copyright:
<a href="https://idc.sutd.edu.sg//"> SUTD IDC</a>
<div>Predictions are from manually labelled data. We do not make any warranties about completeness, reliability and accuracy of this information</div>
</div>
</footer>

</main><!-- /.container -->

<script type="text/javascript">
var output;
function showVal(k,t){
	document.getElementById(k).innerHTML=t;
}

function sendData(){
	x_input=[{"Building Floor Area": parseFloat(document.getElementById("site_area").value),
	 "Building para": parseFloat(document.getElementById("site_para").value),
	 "Construction System_Column Beam_Concrete_Glulam_Slab_Concrete": 1,
	 "Construction System_Column Beam_Concrete_Glulam_Slab_Glulam": 0,
	 "Construction System_Column Beam_Concrete_None_Slab_Concrete": 0,
	 "Construction System_Column Beam_Concrete_Steel_Slab_Concrete": 0,
	 "Construction System_Shear Wall_CLT_None_Slab_CLT": 0,
	 "Construction System_Shear Wall_Concrete_CLT_Slab_Concrete": 0,
	 "Construction System_Shear Wall_Concrete_Glulam_Slab_Glulam": 0,
	 "Construction System_Shear Wall_Concrete_None_Slab_Concrete": 0,
	 "Material Infill 1_Gypsum ": 1,
	 "Material Infill 1_Light Weight Concrete": 0,
	 "Material Infill 2 (Windows)_Double Pane IGU": 1,
	 "No of Br": parseInt(document.getElementById("no_of_br").value),
	 "No of Mbr": parseInt(document.getElementById("no_of_mbr").value),
	 "No of Storage": parseInt(document.getElementById("no_of_storage").value),
	 "No of WC": parseInt(document.getElementById("no_of_wc").value),
	 "No. of units in floor": parseInt(document.getElementById("no_of_units").value)}];
	 console.log(x_input);
	 fetch("/req/", {
	  method: "post",
	  headers: {
	    'Accept': 'application/json',
	    'Content-Type': 'application/json'
	  },
	  body: JSON.stringify(x_input)
	})
	.then( (response) => {
		response.json().then( (res) => {
			output = res
			maxbedroomlen = Math.max(Math.sqrt((output[0]["y_area_a"]["Br area"]/output[0]["y_area_a"]["Br para"]))*output[0]["y_area_a"]["Br para"],Math.sqrt((output[0]["y_area_a"]["Br area"]/output[0]["y_area_a"]["Br para"])))
			servedarea = output[0]["y_area_a"]["Br area"]+output[0]["y_area_a"]["Mbr Area"]+output[0]["y_area_a"]["Lvr Area"]
			servedheight = servedarea/maxbedroomlen
			servingarea = output[0]["y_area_a"]["Kit area"]+output[0]["y_area_a"]["WC area"]+output[0]["y_area_a"]["Storage Area"]
			servingheight = servingarea/maxbedroomlen
			publicarea = parseFloat(document.getElementById("site_area").value)*output[0]["y_area_a"]["Public circulation ratio"]/parseInt(document.getElementById("no_of_units").value)
			publicheight = publicarea/maxbedroomlen
			createShoebox(maxbedroomlen,servedarea,servedheight,servingarea,servingheight,publicarea,publicheight)
			createBarchart(output)
			createRadar(output)
		});
	});
};

var shoebox_container = document.getElementById("shoebox");
function createShoebox(maxbedroomlen,servedarea,servedheight,servingarea,servingheight,publicarea,publicheight){
var data = 
{labels: [Math.round(maxbedroomlen*100)/100],
datasets: [
  {
    label: 'Served Space',
    barPercentage: Math.round(maxbedroomlen*100)/100/10,
    data: [servedheight],
    backgroundColor: '#beccc2',
  },
  {
    label: 'Serving Space',
    barPercentage: Math.round(maxbedroomlen*100)/100/10,
    data: [servingheight],
    backgroundColor: '#4c524e',
  },
  {
    label: 'Public Circulation',
    barPercentage: Math.round(maxbedroomlen*100)/100/10,
    data: [publicheight],
    backgroundColor: '#e9f0f2',
  }]
};
var tooltipsLabel = ['Served Space','Serving Space','Public Space'];
var tooltipheight = [servedheight,servingheight,publicheight]
var options = {
	tooltips: {
            callbacks: {
                label: function(tooltipItem, data) {
                    var label =  'Total Area: ' + Math.round(tooltipItem.yLabel*tooltipItem.xLabel * 100) / 100 + ' m2 (' + Math.round(tooltipItem.yLabel*tooltipItem.xLabel/(servedarea+servingarea+publicarea) * 100 *100) / 100 + ')%'
                    return label;
                },
                title: function(tooltipItem, data) {
            		return tooltipsLabel[tooltipItem[0].datasetIndex] + ' Height: ' +  Math.round(tooltipheight[tooltipItem[0].datasetIndex] *100)/100 + ' m';
                }
            }
        },
title: {display: true, text: 'Shoebox of a Unit'},
scales: {
	xAxes: [{ticks: {drawTicks:true}, stacked:true, scaleLabel:{display:true,labelString:'Max Area Length (m)'}}],
    yAxes: [{ticks: {drawTicks:true}, stacked:true, scaleLabel:{display:true,labelString:'Max Area Height (m)'}}]
	}
};

var shoebox = new Chart(shoebox_container, {type: 'bar', data: data, options: options});
}


var barchart_container = document.getElementById("barchart");
function createBarchart(output){
var data = {labels: ['Col. Beam (Concrete/Glulam) w. Concrete Slab', 'Col. Beam (Concrete/Glulam) w. Glulam Slab','Col. Beam (Concrete) w. Concrete Slab','Col. Beam (Concerte/Steel) w. Concrete Slab','Shear Wall (CLT) w. CLT Slab','Shear Wall (Concrete/CLT) w. Concrete Slab','Shear Wall (Concrete/Glulam) w. Glulam Slab', 'Shear Wall (Concrete) w. Concrete Slab'],
datasets: [
	{
	label: 'Concrete',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [servedheight],
	backgroundColor: '#F6A4AD'
	},
	{
	label: 'CLT',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [servingheight],
	backgroundColor: '#B9A1A6'
	},
	{
	label: 'Glulam',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [publicheight],
	backgroundColor: '#ABD0BC'
	},
	{
	label: 'Steel',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [publicheight],
	backgroundColor: '#818993'
	},
	{
	label: 'Gypsum',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [publicheight],
	backgroundColor: '#B5C2CC'
	},
	{
	label: 'Glazing',
	barPercentage: Math.round(maxbedroomlen*100)/100/10,
	data: [publicheight],
	backgroundColor: '#808080'
	}]
}
var options = {
title: {display: true, text: 'Material Volume Comparison'},
scales: {
	xAxes: [{ticks: {drawTicks:true}, stacked:true, scaleLabel:{display:true,labelString:'Max Area Length (m)'}}],
    yAxes: [{ticks: {drawTicks:true}, stacked:true, scaleLabel:{display:true,labelString:'Max Area Height (m)'}}]
	}
};	
var barchart = new Chart(barchart_container, { type: 'horizontalBar',data: data, options: options });
}


var radar_container = document.getElementById("radar");
function createRadar(output){

var data = {
labels: ['Running', 'Swimming', 'Eating', 'Cycling'],
datasets: [{
    data: [20, 10, 4, 2]
}]
}
var options = {
title: {display: true, text: 'GWP per Gross Floor Area of different construction systems'},
}
var myRadarChart = new Chart(radar_container, {
    type: 'radar',
    data: data,
    options: options
});
}

</script>

</body></html>